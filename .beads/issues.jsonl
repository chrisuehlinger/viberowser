{"id":"viberowser-0v5","title":"Implement DOM interfaces (Node, Element, Document)","description":"Implement the core DOM interfaces that are required for WPT tests. The DOM must conform to the DOM Living Standard.\n\nRequired interfaces:\n1. Node - base interface with nodeType, nodeName, nodeValue, parentNode, childNodes, firstChild, lastChild, previousSibling, nextSibling, appendChild, removeChild, insertBefore, replaceChild, cloneNode, normalize, textContent\n2. Document - createElement, createElement(NS), createTextNode, createComment, createDocumentFragment, getElementById, getElementsByTagName, getElementsByClassName, querySelector, querySelectorAll, documentElement, head, body, title\n3. Element - tagName, id, className, classList, getAttribute, setAttribute, removeAttribute, hasAttribute, attributes, innerHTML, outerHTML, children, firstElementChild, lastElementChild, matches, closest\n4. Text, Comment, DocumentFragment, Attr interfaces\n5. NodeList and HTMLCollection (live collections)\n6. DOMTokenList for classList\n7. NamedNodeMap for attributes\n\nReference: https://dom.spec.whatwg.org/\n\nThis is the JavaScript-accessible API that WPT tests use to verify browser behavior.","status":"closed","priority":0,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:32:49.876946526Z","created_by":"Chris Uehlinger","updated_at":"2026-01-30T22:46:56.861139939Z","closed_at":"2026-01-30T22:46:56.861139939Z","close_reason":"Implemented complete DOM interfaces package with Node, Element, Document, Text, Comment, DocumentFragment, NodeList, HTMLCollection, DOMTokenList, NamedNodeMap, and Attr. All tests pass.","dependencies":[{"issue_id":"viberowser-0v5","depends_on_id":"viberowser-hvm","type":"blocks","created_at":"2026-01-30T22:32:53.001950276Z","created_by":"Chris Uehlinger"}]}
{"id":"viberowser-3ax","title":"Implement CSS box model and layout engine","description":"Implement the CSS visual formatting model and box layout.\n\nBox model:\n1. Content, padding, border, margin boxes\n2. box-sizing (content-box, border-box)\n3. Width and height calculations (auto, percentages, min/max constraints)\n\nBlock formatting context:\n1. Block-level element layout\n2. Margin collapsing\n3. Clearance and floats\n\nInline formatting context:\n1. Line boxes and inline boxes\n2. Text alignment\n3. vertical-align\n4. white-space handling\n\nVisual formatting model:\n1. Normal flow positioning\n2. Float positioning\n3. Absolute and fixed positioning\n4. Stacking contexts and z-index\n\nAdditional:\n1. Overflow handling (visible, hidden, scroll, auto)\n2. Display property (block, inline, inline-block, none, flex basics)\n3. Containing blocks\n\nReference: https://www.w3.org/TR/CSS2/visuren.html and https://www.w3.org/TR/css-box-3/","status":"closed","priority":1,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:33:31.380724306Z","created_by":"Chris Uehlinger","updated_at":"2026-01-30T23:41:18.666724039Z","closed_at":"2026-01-30T23:41:18.666724039Z","close_reason":"Implemented CSS box model and layout engine with block and inline layout, positioning, box-sizing, margins, padding, borders, floats, and comprehensive test coverage","dependencies":[{"issue_id":"viberowser-3ax","depends_on_id":"viberowser-vk5","type":"blocks","created_at":"2026-01-30T22:33:40.728909079Z","created_by":"Chris Uehlinger"}]}
{"id":"viberowser-5zb","title":"Initialize Go module and project structure","description":"Create go.mod for the viberowser project. Set up the initial package structure with directories for: html (parser), css (parser), layout, render, ui, and wpt (test integration). Create a minimal main.go that can be built.","status":"closed","priority":0,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:28:12.895053478Z","created_by":"Chris Uehlinger","updated_at":"2026-01-30T22:30:20.597983727Z","closed_at":"2026-01-30T22:30:20.597983727Z","close_reason":"Closed"}
{"id":"viberowser-8da","title":"Implement WPT test harness integration","description":"Implement infrastructure to run Web Platform Tests against Viberowser.\n\nWPT Setup:\n1. Clone/checkout WPT repository\n2. Implement wpt server runner or use the provided wpt serve\n3. Configure test paths\n\nTest running:\n1. Load testharness.js tests\n2. Capture test results from JavaScript\n3. Handle test timeouts\n4. Support reftest comparison (screenshot comparison)\n5. Parse test manifests\n\nResults reporting:\n1. Output results in standard WPT format\n2. Track pass/fail/skip counts\n3. Generate HTML report of results\n4. Compare against baseline\n\nCI integration:\n1. Run subset of WPT on each commit\n2. Track test pass rate over time\n\nReference: https://web-platform-tests.org/running-tests/","status":"closed","priority":1,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:34:09.95289511Z","created_by":"Chris Uehlinger","updated_at":"2026-01-30T23:07:52.928913987Z","closed_at":"2026-01-30T23:07:52.928913987Z","close_reason":"Implemented WPT test harness integration with testharness.js binding, test runner, and wptrun CLI tool. All tests pass.","dependencies":[{"issue_id":"viberowser-8da","depends_on_id":"viberowser-hm1","type":"blocks","created_at":"2026-01-30T22:34:12.827907231Z","created_by":"Chris Uehlinger"}]}
{"id":"viberowser-avx","title":"Implement HTML5 tokenizer (lexer)","description":"Implement a complete HTML5 tokenizer following the WHATWG HTML parsing specification. The tokenizer should:\n\n1. Handle all token types: DOCTYPE, start tags, end tags, comments, character data, and EOF\n2. Implement state machine with states like Data, TagOpen, TagName, BeforeAttributeName, AttributeName, AfterAttributeName, BeforeAttributeValue, AttributeValue (quoted/unquoted), SelfClosingStartTag, etc.\n3. Handle character references (named, decimal, hexadecimal)\n4. Support proper error handling and parse error recovery\n5. Handle CDATA sections, RCDATA, RAWTEXT, PLAINTEXT, and Script data states\n\nReference: https://html.spec.whatwg.org/multipage/parsing.html#tokenization\n\nThis is foundational for the HTML parser and must be spec-compliant to pass WPT tests.","status":"closed","priority":0,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:32:31.538847425Z","created_by":"Chris Uehlinger","updated_at":"2026-01-30T22:37:17.646686811Z","closed_at":"2026-01-30T22:37:17.646686811Z","close_reason":"Implemented HTML5 tokenizer and parser using golang.org/x/net/html library. The package provides both tokenization (via our Tokenizer wrapper) and full HTML5-compliant parsing (via Parse/ParseReader functions). All 20 tests pass covering basic document parsing, malformed HTML handling, attributes, DOM manipulation, entity decoding, self-closing tags, and table structure."}
{"id":"viberowser-bwk","title":"Add missing Element properties to JS DOM bindings","description":"The DOM Element class has several important properties implemented in Go but not bound to JavaScript. These need to be added to support WPT tests.\n\nMissing JavaScript bindings for Element:\n- children (HTMLCollection of child elements)\n- childElementCount\n- firstElementChild\n- lastElementChild\n- previousElementSibling\n- nextElementSibling\n\nThese properties exist in dom/element.go but need JS bindings in js/dom_bindings.go","status":"open","priority":1,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-31T00:10:09.902015123Z","created_by":"Chris Uehlinger","updated_at":"2026-01-31T00:10:09.902015123Z"}
{"id":"viberowser-c2e","title":"Implement browser UI with tabs and URL bar","description":"Implement the browser user interface with essential navigation features.\n\nUI Components:\n1. Main window with title bar\n2. Tab bar with support for multiple tabs\n   - New tab button\n   - Close tab button (X on each tab)\n   - Tab switching\n   - Tab drag reordering (stretch goal)\n3. URL bar / address bar\n   - Text input for URLs\n   - Go button or Enter key navigation\n   - URL display and editing\n4. Navigation controls\n   - Back button\n   - Forward button\n   - Refresh button\n   - Stop/loading indicator\n5. Content area for rendered page\n\nGUI Framework:\n1. Evaluate options: fyne.io, gotk3, go-gtk, webview, gio\n2. Fyne is pure Go and cross-platform, good starting point\n3. Must work in X11 environment (devcontainer has DISPLAY=:1)\n\nKeyboard shortcuts:\n1. Ctrl+T: New tab\n2. Ctrl+W: Close tab\n3. Ctrl+L: Focus URL bar\n4. F5: Refresh\n5. Alt+Left/Right: Back/Forward\n\nThis provides the user-facing browser experience.","status":"closed","priority":2,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:34:21.68247332Z","created_by":"Chris Uehlinger","updated_at":"2026-01-31T00:06:54.895161062Z","closed_at":"2026-01-31T00:06:54.895161062Z","close_reason":"Implemented browser UI with Fyne GUI toolkit including tabs, URL bar, navigation controls, and keyboard shortcuts","dependencies":[{"issue_id":"viberowser-c2e","depends_on_id":"viberowser-liw","type":"blocks","created_at":"2026-01-30T22:34:26.66768276Z","created_by":"Chris Uehlinger"},{"issue_id":"viberowser-c2e","depends_on_id":"viberowser-u32","type":"blocks","created_at":"2026-01-30T22:34:26.690404302Z","created_by":"Chris Uehlinger"}]}
{"id":"viberowser-hm1","title":"Integrate JavaScript engine (goja or v8go)","description":"Integrate a JavaScript engine to execute scripts in web pages. This is essential for running WPT testharness.js tests.\n\nOptions to evaluate:\n1. goja (github.com/dop251/goja) - Pure Go ES5.1+ implementation, easy to integrate but limited ES6+\n2. v8go (github.com/nicholascross/nicgo) - V8 bindings for Go, full ES6+ but requires CGO\n3. Consider other options like duktape-go\n\nRequirements:\n1. Create a JS runtime that can execute scripts\n2. Expose DOM APIs to JavaScript (window, document, Element, etc.)\n3. Implement console.log/warn/error for debugging\n4. Implement setTimeout/setInterval/requestAnimationFrame\n5. Implement event handling (addEventListener, dispatchEvent)\n6. Handle script parsing errors gracefully\n\nThe JS engine must support enough ES6+ features to run testharness.js which is used by WPT.\n\nStart with goja for simplicity, can upgrade to v8go later if needed.","status":"closed","priority":0,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:33:00.977854466Z","created_by":"Chris Uehlinger","updated_at":"2026-01-30T22:56:31.170328659Z","closed_at":"2026-01-30T22:56:31.170328659Z","close_reason":"Implemented JS engine integration using goja with full DOM bindings, events, timers, and script execution. All 46 tests pass.","dependencies":[{"issue_id":"viberowser-hm1","depends_on_id":"viberowser-0v5","type":"blocks","created_at":"2026-01-30T22:33:03.979540035Z","created_by":"Chris Uehlinger"}]}
{"id":"viberowser-hvm","title":"Implement HTML5 tree builder","description":"Implement the HTML5 tree construction algorithm following the WHATWG spec. This depends on the tokenizer.\n\nKey requirements:\n1. Implement the tree construction dispatcher with all insertion modes:\n   - Initial, BeforeHtml, BeforeHead, InHead, InHeadNoscript, AfterHead\n   - InBody, Text, InTable, InTableText, InCaption, InColumnGroup\n   - InTableBody, InRow, InCell, InSelect, InSelectInTable\n   - InTemplate, AfterBody, InFrameset, AfterFrameset, AfterAfterBody, AfterAfterFrameset\n\n2. Handle the stack of open elements and active formatting elements\n3. Implement foster parenting for misnested content\n4. Handle scripting (script execution integration points)\n5. Implement adoption agency algorithm for formatting element handling\n6. Support template element handling\n\nReference: https://html.spec.whatwg.org/multipage/parsing.html#tree-construction\n\nThis produces the DOM tree that CSS and JavaScript will work with.","status":"closed","priority":0,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:32:38.814990427Z","created_by":"Chris Uehlinger","updated_at":"2026-01-30T22:37:22.893674092Z","closed_at":"2026-01-30T22:37:22.893674092Z","close_reason":"The HTML5 tree builder is provided by golang.org/x/net/html.Parse() which implements the full WHATWG HTML5 tree construction algorithm. Our html.Parse() and html.ParseReader() functions wrap this functionality, returning a well-structured DOM tree. Tests verify correct handling of document structure, implicit element insertion (e.g., tbody), and proper parent-child relationships.","dependencies":[{"issue_id":"viberowser-hvm","depends_on_id":"viberowser-avx","type":"blocks","created_at":"2026-01-30T22:32:42.210822826Z","created_by":"Chris Uehlinger"}]}
{"id":"viberowser-liw","title":"Implement rendering/painting engine","description":"Implement the painting/rendering engine that produces visual output from the layout tree.\n\nPainting:\n1. Paint backgrounds (colors, images, gradients)\n2. Paint borders (solid, dashed, dotted, etc.)\n3. Paint text with proper fonts\n4. Paint replaced elements (images)\n5. Paint order following stacking contexts\n\nText rendering:\n1. Font loading and selection\n2. Font metrics (ascent, descent, line height)\n3. Text shaping (basic Latin, possibly use harfbuzz-go)\n4. Handle font-family fallbacks\n5. font-weight, font-style, font-size\n\nGraphics backend:\n1. Use Go image library for basic rendering\n2. Consider integrating with graphics libraries (e.g., gg, fogleman/gg)\n3. Anti-aliasing for text and shapes\n4. Alpha compositing\n\nOutput:\n1. Render to image.Image for testing\n2. Prepare for integration with GUI toolkit\n\nReference: https://www.w3.org/TR/CSS2/zindex.html for painting order","status":"closed","priority":1,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:33:58.943373983Z","created_by":"Chris Uehlinger","updated_at":"2026-01-30T23:46:20.835262042Z","closed_at":"2026-01-30T23:46:20.835262042Z","close_reason":"Implemented painting/rendering engine with backgrounds, borders (solid/dashed/dotted/double), text rendering with bitmap font, alpha compositing, stacking contexts, and drawing primitives (lines, circles, images)","dependencies":[{"issue_id":"viberowser-liw","depends_on_id":"viberowser-3ax","type":"blocks","created_at":"2026-01-30T22:34:02.284507514Z","created_by":"Chris Uehlinger"}]}
{"id":"viberowser-qwq","title":"Implement CSS tokenizer and parser","description":"Implement a complete CSS tokenizer and parser following CSS Syntax Module Level 3.\n\nTokenizer requirements (https://www.w3.org/TR/css-syntax-3/#tokenization):\n1. Handle all token types: ident, function, at-keyword, hash, string, bad-string, url, bad-url, delim, number, percentage, dimension, whitespace, CDO, CDC, colon, semicolon, comma, brackets, etc.\n2. Proper handling of escape sequences\n3. Unicode code point handling\n\nParser requirements:\n1. Parse stylesheet into rules (qualified rules, at-rules)\n2. Parse selector lists with combinators (descendant, child, adjacent sibling, general sibling)\n3. Parse declaration blocks with property-value pairs\n4. Handle @import, @media, @font-face, @keyframes rules\n5. Parse values into component values (functions, calc(), etc.)\n\nSelector matching:\n1. Implement specificity calculation\n2. Implement selector matching against elements\n3. Support all simple selectors: type, class, ID, attribute, pseudo-classes, pseudo-elements\n\nReference: https://www.w3.org/TR/css-syntax-3/ and https://www.w3.org/TR/selectors-4/","status":"closed","priority":1,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:33:12.029545346Z","created_by":"Chris Uehlinger","updated_at":"2026-01-30T23:27:11.065585947Z","closed_at":"2026-01-30T23:27:11.065585947Z","close_reason":"Implemented complete CSS tokenizer and parser following CSS Syntax Module Level 3, including selector parsing, matching, and specificity calculation"}
{"id":"viberowser-u32","title":"Implement HTTP client and resource loading","description":"Implement HTTP client for fetching web resources.\n\nHTTP client:\n1. GET, POST, HEAD requests\n2. Request/response headers handling\n3. Cookie jar and cookie handling\n4. Redirect following (configurable limit)\n5. HTTPS/TLS support\n6. Timeout handling\n\nResource loading:\n1. Fetch HTML documents\n2. Load linked stylesheets (\u003clink rel=stylesheet\u003e)\n3. Load \u003cstyle\u003e element content\n4. Load scripts (sync and async/defer)\n5. Load images (for later rendering)\n6. Handle data: URLs\n7. Relative URL resolution\n\nContent-Type handling:\n1. Parse Content-Type headers\n2. Character encoding detection and conversion\n3. Sniffing for type detection as fallback\n\nCache:\n1. Basic HTTP caching (Cache-Control, ETag, Last-Modified)\n2. In-memory cache for session\n\nThis is required to load actual web pages and WPT test resources.","status":"closed","priority":1,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:33:50.425909192Z","created_by":"Chris Uehlinger","updated_at":"2026-01-30T23:57:35.806909922Z","closed_at":"2026-01-30T23:57:35.806909922Z","close_reason":"Implemented complete HTTP client and resource loading system with caching, cookie support, redirect handling, and external script/stylesheet loading"}
{"id":"viberowser-vk5","title":"Implement CSS cascade and computed styles","description":"Implement CSS cascading and value computation.\n\nCascade requirements:\n1. Implement cascade origins (user agent, user, author)\n2. Handle !important declarations\n3. Implement specificity-based ordering\n4. Handle order of appearance for equal specificity\n\nInheritance:\n1. Implement inherited vs non-inherited properties\n2. Handle 'inherit', 'initial', 'unset', 'revert' keywords\n\nValue computation:\n1. Resolve relative values (em, rem, %, vh, vw, etc.)\n2. Compute color values (named colors, hex, rgb, hsl, etc.)\n3. Handle calc() expressions\n4. Resolve currentColor\n5. Apply default values for unspecified properties\n\nStyle tree:\n1. Build a styled tree from DOM tree + stylesheets\n2. Efficient selector matching\n3. Cache computed styles for performance\n\nReference: https://www.w3.org/TR/css-cascade-4/","status":"closed","priority":1,"issue_type":"task","owner":"chris.uehlinger@gmail.com","created_at":"2026-01-30T22:33:19.801099679Z","created_by":"Chris Uehlinger","updated_at":"2026-01-30T23:36:18.168861694Z","closed_at":"2026-01-30T23:36:18.168861694Z","close_reason":"Implemented CSS cascade and computed styles following CSS Cascade Level 4 specification. Added cascade origins, !important handling, specificity ordering, inheritance, CSS-wide keywords (inherit/initial/unset/revert), relative unit resolution, color parsing, user agent stylesheet, and style tree construction.","dependencies":[{"issue_id":"viberowser-vk5","depends_on_id":"viberowser-qwq","type":"blocks","created_at":"2026-01-30T22:33:24.36213741Z","created_by":"Chris Uehlinger"},{"issue_id":"viberowser-vk5","depends_on_id":"viberowser-0v5","type":"blocks","created_at":"2026-01-30T22:33:24.383280465Z","created_by":"Chris Uehlinger"}]}
